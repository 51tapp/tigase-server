[[adminUI]]
Admin UI Guide
==============
:author: Daniel Wisnewski
:version: v1.0 Sept 2015
:date: 2015-02-09 10:28

:toc:
:numbered:
:website: http://www.tigase.org

The Admin User Interface is an HTTP-based interface that sends REST commands to the server to update configurations, change settings, and retrieve statistics.

A Note about REST
-----------------
REST stands for REpresentational State Transfer which is a stateless communication method that in our case passes commands using HTTP GET, PUT, POST, and DELETE commands to resources within the Tigase server.
Although REST uses HTTP to receive commands, REST itself is not intended for use in a browser.  For more information, please see the REST API guide.


Configuration
-------------
Allows you to list serve components and their configurations, as well as manage server components and plugins.

List server/component configuration section covers all the component options including the basic-conf and will allow you to change each setting by changing the values in the field and clicking submit.  All settings are listed by the component name in the dropdown menu either as default, or as defined by --component-name property.

image:images/admin-componentconfig.jpg[]

Manage active server components allows you to do exactly that, but you can also add and disable components from this interface.

image:images/admin-managecomponent.jpg[]

Here you can List, Add, Edit, and Remove components.
- *List* provides a list of all running components, each with its name, info, and class.
- *Add* provides an interface to add a class and a name for components. You will not be able to add invalid component names or classes.
- *Edit* enables you to edit the specific properties of any running component. Even options for which there are no current values will be listed, you can consider this list a comprehensive list of settings and options for the current component.
- *Remove* provides a way to remove running components.

Managing server plugins allows you to turn on or off plugins from this window VIA check-boxes. Note that the changes are made in real-time.

image:images/admin-manageplugins.jpg[]

Notifications
-------------
This section has one simple command: to be able to send a mass message to all logged in users.  You may choose to change the type of message to headline or Normal which will show as a pop-up in most XMPP clients.  Chat messages will open up a chat dialog with users.

Other
-----
This section contains a considerable list of options and settings affecting server functions.

Activate log tracker for a user
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
This allows you to set a log file to track a specific user.  Set the bare or full JID of the user you want to log, and a name of the files you wish the log to be written to. The files will be written in the root Tigase directory unless you give a directory like logs/filename. The log files will be named with a .0 extension and will be named .1, .2, .3 and so on as each file reaches 10MB by default. filename.0 will always be the most recent.
Logging will cease once the server restarts.

Add SSL certificate
~~~~~~~~~~~~~~~~~~~
Here you can add SSL certificates from PEM files to specific virtual hosts. Although Tigase can generate its own self-signed certificates, this will override those default certificates.

Add Monitor Task
~~~~~~~~~~~~~~~~
You can write scripts for Groovy or ECMAScript to add to monitor tasks here. This only adds the script to available scripts however, you will need to run it from another prompt.

Add Monitor Timer Task
~~~~~~~~~~~~~~~~~~~~~~
This section allows you to add monitor scripts in Groovy while using a delay setting which will delay the start of the script.

Add New Item - ext
~~~~~~~~~~~~~~~~~~
[I don't know what this does]

Add New Item - Vhost
~~~~~~~~~~~~~~~~~~~~
This allows you to add new virtual hosts to the XMPP server

Change user inter-domain communication permission
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Connections Time
~~~~~~~~~~~~~~~~
Lists the longest and average connection time from clients to servers.

DNS Query
~~~~~~~~~
A basic DNS Query form.

Default room config
~~~~~~~~~~~~~~~~~~~
[nothing shows]

Delete Monitor Task
~~~~~~~~~~~~~~~~~~~
This removes a monitor task from the list of available monitor scripts. This action is not permanent as it will revert to inital settings on server restart.

Fix User's Roster
~~~~~~~~~~~~~~~~~
You can fix a users roster from this prompt. Fill out the bare JID of the user and the names you wish to add or remove from the roster. This will NOT edit a user's roster, but rather compare client roster to database and fix any errors between them.

Fix User's Roster on Tigase Cluster
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
This does the same as the Fix User's Roster, but can apply to users in clustered servers.

Get User Roster
~~~~~~~~~~~~~~~
As the title implies this gets a users' roster and displays it on screen. You can use a bare or full JID to get specific rosters.

Get any file
~~~~~~~~~~~~
Enables you to see the contents of any file in the tigase directory. By default you are in the root directory, if you wish to go into directory use the following format:
logs/tigase.log.0

Get Configuration File
~~~~~~~~~~~~~~~~~~~~~~
If you don't want to type in the location of a configuration file, you can use this prompt to bring up the contents of either tigase.conf or init.properties.

Get init.properties File
~~~~~~~~~~~~~~~~~~~~~~~~
Will output the current init.properties file, this includes any modifications made during the current server session.

Load Errors
~~~~~~~~~~~
Will display any errors the server encounters in loading and running. Can be useful if you need to address any issues.



Scripts

Statistics
----------
Get User Statistics
~~~~~~~~~~~~~~~~~~~
Provides a script output of user stastics including how many active sessions are in use, number of packets used, specific connections and their packet usage and location. All resources will return individual stats along with IP addresses.

Get Active User List
~~~~~~~~~~~~~~~~~~~~
Provides a list of active users under the selected domain within the server.  An active user is considered a user currently logged into the XMPP server.



Users
-----
Add User
~~~~~~~~
Here you can add new users to any domain handled by vHosts, users are added to database immediately and are able to login.  *NOTE: You cannot bestow admin status to these users in this section.*

Change User Password
~~~~~~~~~~~~~~~~~~~~
This enables you to change the password of any user in the database. Although changes will take effect immediately, users currently logged in will not know the password has been changed until they try to log in again.

Delete User
~~~~~~~~~~~
This removes the user or users (comma seperated) from the database. The deleted users will be kicked from the server once submit is clicked.

Get User Info
~~~~~~~~~~~~~
This section allows admins to get information about a specific user including current connections as well as offline and online messages awaiting delivery.

Get registered user list
~~~~~~~~~~~~~~~~~~~~~~~~
This will display all registered users for the selected domain up to the number specified.

Modify User
~~~~~~~~~~~
Allows you to modify some user details including E-mail and whether it is an active user.
